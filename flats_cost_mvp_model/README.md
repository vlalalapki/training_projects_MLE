# Оценка стоимости квартир — MVP-пайплайн для Яндекс Недвижимости

## Описание проекта
 
Учебный проект по разработке MVP-алгоритма машинного обучения для **оценки рыночной стоимости квартир** по их характеристикам.  
Данные предоставлены в виде двух таблиц: `flats` и `buildings` из учебной базы данных.

Проект охватывает полный цикл работы с ML-системой:

- Объединение и очистка данных с помощью **Apache Airflow**
- Разработка и запуск **DVC-пайплайна обучения модели**
- Применение **CatBoost + scikit-learn** пайплайна
- Контроль данных, моделей и параметров через **DVC**
- Отправка уведомлений о статусе DAG через **Telegram**
- Хранение результатов и артефактов (модель, метрики)

---

## Реализовано

- ✅ **EDA** в Jupyter: первичный анализ, выявление дубликатов и выбросов
- ✅ **DAG: Сбор данных (`get_dataset.py`)**  
- ✅ **DAG: Очистка данных (`clean_dataset.py`)**  
- ✅ **Telegram-уведомления** о статусе DAG (успех/ошибка)
- ✅ **Обучение модели (`fit_model.py`)** с OneHotEncoding и CatBoost
- ✅ **Кросс-валидация (`evaluate_model.py`)**, сохранение метрик в `.json`
- ✅ **DVC-пайплайн (`dvc.yaml`)** для повторяемости обучения
- ✅ **Артефакты проекта**: `initial_data.csv`, `fitted_model.pkl`, метрики

---

## Структура проекта

```
mle-project-sprint/
├── README.md                        # Описание проекта
├── requirements.txt                 # Список зависимостей
├── part1_airflow/
│   ├── dags/
│   │   ├── get_dataset.py           # DAG для сбора и объединения данных
│   │   └── clean_dataset.py         # DAG для очистки данных
│   ├── plugins/steps/
│   │   ├── clean_data.py            # remove_duplicates и обработка выбросов
│   │   └── tg_messages.py           # Telegram-уведомления
│   ├── notebooks/
│   │    └── EDA.ipynb               # Анализ и проверка данных
│   ├── docker-compose.yaml          # Конфигурация сборки в докере всех сервисов. 
│   └── Dockerfile                   # Конфигурация сборки в докере airflow.
│
├── part2_dvc/
│   ├── cv_results/                  # Метрики обучения модели
│   ├── data/                        # Данные
│   ├── models/                      # Обученные модели
│   ├── scripts/                     # Шаги dvc пайплайна 
│   │   ├── get_data.py              # Выгрузка данных
│   │   ├── fit.py                   # Обучение модели
│   │   └── evaluate.py              # Оценка модели
│   ├── params.yaml                  # Гиперпараметры для dvc 
│   ├── dvc.yaml                     # Описание пайплайна и его зависимости
│   └── dvc.lock 
│
├── .env                             # Переменные окружения
└── .gitignore                       # Исключения для git
```

---


## Используемые технологии

- Python, Pandas, scikit-learn, CatBoost
- Apache Airflow
- DVC
- PostgreSQL
- Telegram API (уведомления)
- S3 (для хранения модели — условно)

---